name: CI/CD Pipeline
on:
 push:
  branches: [main, develop]
 pull_request:
  branches: [main, develop]

env:
  DOTNET_VERSION: '9.0.x'

jobs:
    build:  
      runs-on: ubuntu-latest

      steps:
          - name: Checkout
            uses: actions/checkout@v4

          - name: Setup .NET
            uses: actions/setup-dotnet@v4
            with:
              dotnet-version: ${{ env.DOTNET_VERSION }}

          - name: Restore
            run: dotnet restore backend/src/EducaOnline.sln

          - name: Build
            run: dotnet build backend/src/EducaOnline.sln -c Release --no-restore